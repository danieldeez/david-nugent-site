{% extends "base.html" %}
{% load static %}

{% block title %}Insights | David Nugent{% endblock %}

{% block content %}
<!-- Premium header band -->
<section class="blog-hero py-5">
  <div class="container-xl">
    <h1 class="h2 fw-semibold text-white mb-3">Insights</h1>
    <p class="text-white mb-0" style="opacity: 0.85; max-width: 720px;">Short updates and commentary on commercial, criminal and regulatory issues from David Nugent BL.</p>
  </div>
</section>

<!-- Blog posts grid -->
<main class="py-5" style="background: #F5F6F7;">
  <div class="container-xl">

    {% if posts %}
    <div class="row g-4">
      {% for post in posts %}
      <div class="col-12 col-md-6 col-lg-4 d-flex">
        <div class="card blog-card h-100 border-0 shadow-sm">

          {% if post.hero_image %}
          <div class="ratio ratio-16x9 blog-card-img-wrapper">
            <img src="{{ post.hero_image.url }}" alt="{{ post.title }}" class="w-100 h-100 object-fit-cover">
          </div>
          {% else %}
          <div class="ratio ratio-16x9 blog-card-img-placeholder"></div>
          {% endif %}

          <div class="card-body d-flex flex-column">
            {% if post.published_at %}
            <p class="small text-muted mb-1">{{ post.published_at|date:"j F Y" }}</p>
            {% endif %}

            <h2 class="h5 fw-semibold mb-2">
              <a href="{% url 'blog_detail' post.slug %}" class="stretched-link text-decoration-none text-dark blog-card-title">{{ post.title }}</a>
            </h2>

            {% if post.summary %}
            <p class="small text-muted mb-0 mt-1" style="line-height: 1.6;">
              {{ post.summary|truncatewords:20 }}
            </p>
            {% endif %}

          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-light border" role="alert">
      <i class="bi bi-info-circle text-muted"></i> No blog posts available at this time. Check back soon for updates.
    </div>
    {% endif %}
  </div>
</main>
{% endblock %}
