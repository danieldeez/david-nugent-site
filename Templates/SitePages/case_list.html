{% extends "base.html" %}
{% load static %}

{% block title %}Case Studies | David Nugent{% endblock %}

{% block content %}
<!-- Premium header band -->
<section class="case-hero py-5">
  <div class="container-xl">
    <h1 class="h2 fw-semibold text-white mb-3">Case Studies</h1>
    <p class="text-white mb-0" style="opacity: 0.85; max-width: 720px;">Illustrative examples of matters handled across the practice areas.</p>
  </div>
</section>

<!-- Cases grid -->
<main class="py-5" style="background: #FAFBFC;">
  <div class="container-xl">

    {% if cases %}
    <div class="row g-4">
      {% for case in cases %}
      <div class="col-12 col-md-6 col-lg-4 d-flex">
        <div class="card case-card h-100 border-0 shadow-sm">
          <div class="card-body d-flex flex-column">

            {% if case.practice_areas.first %}
            <span class="case-badge small text-uppercase mb-3">{{ case.practice_areas.first.name }}</span>
            {% endif %}

            <h2 class="h5 fw-semibold mb-2">
              <a href="{% url 'case_detail' case.slug %}" class="stretched-link text-decoration-none text-dark">{{ case.title }}</a>
            </h2>

            <p class="small text-muted mb-3">
              {% if case.date_of_case %}
                {{ case.date_of_case|date:"Y" }}
              {% elif case.published_at %}
                {{ case.published_at|date:"Y" }}
              {% endif %}
              {% if case.outcome %}
                <span class="mx-1">Â·</span> {{ case.outcome|truncatewords:8 }}
              {% endif %}
            </p>

            {% if case.summary %}
            <p class="text-muted mb-0" style="font-size: 0.9375rem; line-height: 1.6;">
              {{ case.summary|truncatewords:20 }}
            </p>
            {% endif %}

            {% if case.citation_url %}
            <p class="small text-muted mt-auto mb-0 pt-3">
              <i class="bi bi-link-45deg"></i> Reference available
            </p>
            {% endif %}

          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-light border" role="alert">
      <i class="bi bi-info-circle text-muted"></i> No case studies available at this time. Check back soon.
    </div>
    {% endif %}
  </div>
</main>
{% endblock %}
