{% extends "base.html" %}
{% block title %}Delete {{ post.title }} | Owner{% endblock %}
{% block content %}

<section class="py-5 bg-body">
  <div class="container" style="max-width: 700px;">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h1 class="h3 mb-1">Delete Blog Post</h1>
        <p class="text-ink-600 mb-0">This action cannot be undone</p>
      </div>
      <a href="{% url 'owner_blog_list' %}" class="btn btn-outline-secondary">
        <i class="bi bi-arrow-left"></i> Back to List
      </a>
    </div>

    <div class="card border-danger shadow-sm">
      <div class="card-header bg-danger bg-opacity-10 border-danger">
        <div class="d-flex align-items-center">
          <i class="bi bi-exclamation-triangle text-danger me-2" style="font-size: 1.5rem;"></i>
          <h5 class="mb-0 text-danger">Confirm Deletion</h5>
        </div>
      </div>
      <div class="card-body p-4">
        <p class="mb-3">
          Are you sure you want to delete this blog post:
        </p>
        <div class="alert alert-light border mb-4">
          <h5 class="mb-2">{{ post.title }}</h5>
          <p class="mb-1 text-muted"><strong>Slug:</strong> <code>{{ post.slug }}</code></p>
          <p class="mb-1 text-muted">
            <strong>Status:</strong>
            {% if post.published %}
              <span class="badge bg-success">Published</span>
            {% else %}
              <span class="badge bg-secondary">Draft</span>
            {% endif %}
          </p>
          {% if post.summary %}
            <p class="mb-0 text-muted small">{{ post.summary|truncatewords:30 }}</p>
          {% endif %}
        </div>

        <div class="alert alert-warning">
          <i class="bi bi-exclamation-circle"></i>
          <strong>Warning:</strong> This will permanently delete the blog post and all its content.
          {% if post.published %}
          Any links to <code>/blog/{{ post.slug }}/</code> will break.
          {% endif %}
        </div>

        <form method="post" class="d-flex gap-2 pt-3">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger">
            <i class="bi bi-trash"></i> Yes, Delete Blog Post
          </button>
          <a href="{% url 'owner_blog_list' %}" class="btn btn-secondary">
            <i class="bi bi-x-lg"></i> Cancel
          </a>
        </form>
      </div>
    </div>

    <div class="card mt-4 border-info">
      <div class="card-body">
        <h6 class="card-title">
          <i class="bi bi-lightbulb text-info"></i> Alternative Option
        </h6>
        <p class="mb-0 text-ink-600 small">
          Instead of deleting, you might want to unpublish the post by editing it and unchecking the "Published" box. This way you can keep the content for future reference or republish it later.
        </p>
      </div>
    </div>
  </div>
</section>

{% endblock %}
